
<div class="container">
  <div class="header">
    <div class="row">
      <img src="assets/img/logo.png" alt="Vital Ease Logo">
      <a class="action-button" routerLink="#">Exercises</a>
      <a class="action-button" routerLink="#">Training Routines</a>
      <a class="action-button" routerLink="#">Map</a>
      <a class="action-button" routerLink="/aboutUs">About Us</a>
      <div class="auth-buttons">
        <!-- Mostrar botÃ£o de Login se o usuÃ¡rio nÃ£o estiver logado -->
        <button *ngIf="!isLoggedIn" routerLink="/login">Login</button>
        <button *ngIf="isLoggedIn" (click)="logout()">Logout</button>
      </div>
    </div>
  </div>
</div>
<div class="profile-container">
  <div class="profile-card">
    <div class="profile-header">
      <div class="profile-icon">ðŸ‘¤</div>
      <h2 class="usernameEdit">
        {{ username }}
        <span class="edit-btn" (click)="openModal('username')">âœŽ</span>
      </h2>
    </div>
    <div class="profile-info">
      <p>
        <strong>Date of Birth</strong>
        <button class="edit-btn" (click)="openModal('birthDate')">
          âœŽ
        </button>
        <br>
        {{ birthDate }}
      </p>

      <p>
        <strong>Weight</strong>
        <button class="edit-btn" (click)="openModal('weight')">
          âœŽ
        </button>
        <br>
        {{ weight }}
        <span>kg</span>
      </p>

      <p>
        <strong>Height</strong>
        <button class="edit-btn" (click)="openModal('height')">
          âœŽ
        </button>
        <br>
        {{ height }}
        <span>cm</span>
      </p>

      <p>
        <strong>Gender</strong>
        <button class="edit-btn" (click)="openModal('gender')">
          âœŽ
        </button>
        <br>
        {{ gender }}
      </p>

      <p>
        <strong>Has Heart Problems?</strong>
        <button class="edit-btn" (click)="openModal('hasHeartProblems')">
          âœŽ
        </button>
        <br>
        {{ hasHeartProblems }}
      </p>
    </div>
    <div class="profile-actions">
      <a href="#">Change Password</a>
      <a href="#">Change Email</a>
      <a href="#" class="delete" onclick="openModal()">Delete Account</a>
    </div>
  </div>
</div>

<!-- Modal for Date of Birth -->
<div class="modal" [class.show]="activeModal === 'birthDate'">
  <div class="modal-content">
    <h2>Edit Date of Birth</h2>
    <form (ngSubmit)="changeBirthDate(newBirthDate)">
      <input type="date" id="birthDateInput" [(ngModel)]="newBirthDate" name="birthDate" required>
      <br>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
      <button class="modalButton" (click)="closeModal()">Cancel</button>
      <button class="modalButton" type="submit">Confirm</button>
    </form>
  </div>
</div>

<!-- Modal for Weight -->
<div class="modal" [class.show]="activeModal === 'weight'">
  <div class="modal-content">
    <h2>Edit Weight</h2>
    <form (ngSubmit)="changeWeight(newWeight)">
      <div class="input-container">
        <input type="number" id="weightInput" [(ngModel)]="newWeight" name="weigh" required>
        <span class="unit">kg</span>
      </div>
      <br>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
      <button class="modalButton" (click)="closeModal()">Cancel</button>
      <button class="modalButton" type="submit">Confirm</button>
    </form>
  </div>
</div>

<!-- Modal for Height -->
<div class="modal" [class.show]="activeModal === 'height'">
  <div class="modal-content">
    <h2>Edit Height</h2>
    <form (ngSubmit)="changeHeight(newHeight)">
      <div class="input-container">
        <input type="number" id="heightInput" [(ngModel)]="newHeight" name="height" required>
        <span class="unit">cm</span>
      </div>
      <br>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
      <button class="modalButton" (click)="closeModal()">Cancel</button>
      <button class="modalButton" type="submit">Confirm</button>
    </form>
  </div>
</div>

<!-- Modal for Gender -->
<div class="modal" [class.show]="activeModal === 'gender'">
  <div class="modal-content">
    <h2>Edit Gender</h2>
    <form (ngSubmit)="changeGender(newGender)">
      <select id="genderInput" [(ngModel)]="newGender" name="gender" required>
        <option value="" disabled selected>Select gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
      <br>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
      <button class="modalButton" (click)="closeModal()">Cancel</button>
      <button class="modalButton" type="submit">Confirm</button>
    </form>
  </div>
</div>

<!-- Modal for Heart Problems -->
<div class="modal" [class.show]="activeModal === 'hasHeartProblems'">
  <div class="modal-content">
    <h2>Edit Heart Problems Status</h2>
    <form (ngSubmit)="changeHasHeartProblems(newHasHeartProblems)">
      <select id="heartProblemsInput" [(ngModel)]="newHasHeartProblems" name="heartProblems" required>
        <option value="" disabled selected>Select an option</option>
        <option value="Yes">Yes</option>
        <option value="No">No</option>
      </select>
      <br>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
      <button class="modalButton" (click)="closeModal()">Cancel</button>
      <button class="modalButton" type="submit">Confirm</button>
    </form>
  </div>
</div>

<div class="modal" [class.show]="activeModal === 'username'">
  <div class="modal-content">
    <h2>Edit Username</h2>
    <form (ngSubmit)="changeUsername(newUsername)">
      <div class="input-container">
        <input type="text" id="usernameInput" [(ngModel)]="newUsername" name="username" required>
      </div>
      <br>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
      <button class="modalButton" (click)="closeModal()">Cancel</button>
      <button class="modalButton" type="submit">Confirm</button>
    </form>
  </div>
</div>
